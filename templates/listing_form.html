{% extends "base.html" %}

{% block title %}List Item | WasteWorks{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <div class="card shadow">
                <div class="card-body">
                    <h2 class="card-title text-center mb-4">List This Item</h2>
                    
                    <div class="text-center mb-4">
                        <img src="/{{ item.image_path }}" alt="Item Image" class="img-fluid rounded" style="max-height: 200px;">
                        <div class="d-flex justify-content-center gap-2 mt-2">
                            {% if item.is_recyclable %}
                            <span class="badge bg-success">Recyclable</span>
                            {% endif %}
                            
                            {% if item.material %}
                            <span class="badge bg-info">{{ item.material|title }}</span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <form method="POST">
                        <div class="mb-3">
                            <label for="title" class="form-label">Title</label>
                            <input type="text" class="form-control" id="title" name="title" required
                                   placeholder="e.g., Recyclable Glass Bottles" value="{{ item.title or '' }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control" id="description" name="description" rows="3" 
                                      placeholder="Describe the item, quantity, condition, etc.">{{ item.description or '' }}</textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="contact_email" class="form-label">Contact Email</label>
                            <input type="email" class="form-control" id="contact_email" name="contact_email" required
                                   value="{{ item.contact_email or current_user.email }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="contact_phone" class="form-label">Contact Phone (optional)</label>
                            <input type="tel" class="form-control" id="contact_phone" name="contact_phone"
                                   value="{{ item.contact_phone or '' }}" placeholder="e.g., +91 98765 43210">
                        </div>
                        
                        <div class="mb-3">
                            <label for="location" class="form-label">Location</label>
                            <input type="text" class="form-control" id="location" name="location" required
                                   value="{{ item.location or '' }}" placeholder="e.g., Koramangala, Bangalore">
                        </div>
                        
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-success btn-lg">List Item</button>
                            <a href="{{ url_for('item_details', item_id=item.id) }}" class="btn btn-outline-secondary">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
